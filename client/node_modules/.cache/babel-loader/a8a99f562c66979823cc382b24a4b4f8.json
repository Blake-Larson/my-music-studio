{"ast":null,"code":"var _jsxFileName = \"/home/blars/code/my-music-studio/client/src/contexts/useLessons.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport * as React from 'react';\nimport axios from 'axios';\nimport dayjs from 'dayjs';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst authContext = /*#__PURE__*/React.createContext();\n\nfunction useLessons() {\n  _s();\n\n  const [lessons, setLessons] = React.useState([]);\n  const [getLessons, setGetLessons] = React.useState(false);\n  React.useEffect(() => {\n    (async () => {\n      try {\n        const response = await axios({\n          method: 'GET',\n          url: 'http://localhost:5000/lessons',\n          withCredentials: true\n        });\n        const filteredLessons = response.data.filter(el => dayjs(el.date.dateObj).isAfter(dayjs(new Date()).format('YYYY-MM-DD')));\n        setLessons(filteredLessons);\n      } catch (err) {\n        console.log(err);\n      }\n    })();\n  }, [getLessons]);\n  return {\n    lessons,\n    setLessons,\n    getLessons,\n    setGetLessons\n  };\n}\n\n_s(useLessons, \"GL3O8fB/UK1uCKzwzDBiCN592As=\");\n\nexport function LessonProvider(_ref) {\n  _s2();\n\n  let {\n    children\n  } = _ref;\n  const auth = useLessons();\n  return /*#__PURE__*/_jsxDEV(authContext.Provider, {\n    value: auth,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(LessonProvider, \"Louqd5kNevpSVl+GnJEZfRMd9Q0=\", false, function () {\n  return [useLessons];\n});\n\n_c = LessonProvider;\nexport default function LessonConsumer() {\n  _s3();\n\n  return React.useContext(authContext);\n}\n\n_s3(LessonConsumer, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\n_c2 = LessonConsumer;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"LessonProvider\");\n$RefreshReg$(_c2, \"LessonConsumer\");","map":{"version":3,"names":["React","axios","dayjs","authContext","createContext","useLessons","lessons","setLessons","useState","getLessons","setGetLessons","useEffect","response","method","url","withCredentials","filteredLessons","data","filter","el","date","dateObj","isAfter","Date","format","err","console","log","LessonProvider","children","auth","LessonConsumer","useContext"],"sources":["/home/blars/code/my-music-studio/client/src/contexts/useLessons.js"],"sourcesContent":["import * as React from 'react';\nimport axios from 'axios';\nimport dayjs from 'dayjs';\n\nconst authContext = React.createContext();\n\nfunction useLessons() {\n\tconst [lessons, setLessons] = React.useState([]);\n\tconst [getLessons, setGetLessons] = React.useState(false);\n\n\tReact.useEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst response = await axios({\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\turl: 'http://localhost:5000/lessons',\n\t\t\t\t\twithCredentials: true,\n\t\t\t\t});\n\t\t\t\tconst filteredLessons = response.data.filter(el =>\n\t\t\t\t\tdayjs(el.date.dateObj).isAfter(dayjs(new Date()).format('YYYY-MM-DD'))\n\t\t\t\t);\n\t\t\t\tsetLessons(filteredLessons);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t})();\n\t}, [getLessons]);\n\n\treturn {\n\t\tlessons,\n\t\tsetLessons,\n\t\tgetLessons,\n\t\tsetGetLessons,\n\t};\n}\n\nexport function LessonProvider({ children }) {\n\tconst auth = useLessons();\n\n\treturn <authContext.Provider value={auth}>{children}</authContext.Provider>;\n}\n\nexport default function LessonConsumer() {\n\treturn React.useContext(authContext);\n}\n"],"mappings":";;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,WAAW,gBAAGH,KAAK,CAACI,aAAN,EAApB;;AAEA,SAASC,UAAT,GAAsB;EAAA;;EACrB,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,KAAK,CAACQ,QAAN,CAAe,EAAf,CAA9B;EACA,MAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BV,KAAK,CAACQ,QAAN,CAAe,KAAf,CAApC;EAEAR,KAAK,CAACW,SAAN,CAAgB,MAAM;IACrB,CAAC,YAAY;MACZ,IAAI;QACH,MAAMC,QAAQ,GAAG,MAAMX,KAAK,CAAC;UAC5BY,MAAM,EAAE,KADoB;UAE5BC,GAAG,EAAE,+BAFuB;UAG5BC,eAAe,EAAE;QAHW,CAAD,CAA5B;QAKA,MAAMC,eAAe,GAAGJ,QAAQ,CAACK,IAAT,CAAcC,MAAd,CAAqBC,EAAE,IAC9CjB,KAAK,CAACiB,EAAE,CAACC,IAAH,CAAQC,OAAT,CAAL,CAAuBC,OAAvB,CAA+BpB,KAAK,CAAC,IAAIqB,IAAJ,EAAD,CAAL,CAAkBC,MAAlB,CAAyB,YAAzB,CAA/B,CADuB,CAAxB;QAGAjB,UAAU,CAACS,eAAD,CAAV;MACA,CAVD,CAUE,OAAOS,GAAP,EAAY;QACbC,OAAO,CAACC,GAAR,CAAYF,GAAZ;MACA;IACD,CAdD;EAeA,CAhBD,EAgBG,CAAChB,UAAD,CAhBH;EAkBA,OAAO;IACNH,OADM;IAENC,UAFM;IAGNE,UAHM;IAINC;EAJM,CAAP;AAMA;;GA5BQL,U;;AA8BT,OAAO,SAASuB,cAAT,OAAsC;EAAA;;EAAA,IAAd;IAAEC;EAAF,CAAc;EAC5C,MAAMC,IAAI,GAAGzB,UAAU,EAAvB;EAEA,oBAAO,QAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,EAAEyB,IAA7B;IAAA,UAAoCD;EAApC;IAAA;IAAA;IAAA;EAAA,QAAP;AACA;;IAJeD,c;UACFvB,U;;;KADEuB,c;AAMhB,eAAe,SAASG,cAAT,GAA0B;EAAA;;EACxC,OAAO/B,KAAK,CAACgC,UAAN,CAAiB7B,WAAjB,CAAP;AACA;;IAFuB4B,c;;MAAAA,c"},"metadata":{},"sourceType":"module"}