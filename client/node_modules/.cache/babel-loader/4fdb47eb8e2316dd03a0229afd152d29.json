{"ast":null,"code":"var _jsxFileName = \"/home/blars/code/my-music-studio/client/src/components/ArrayInput.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport axios from 'axios';\nimport SmallAddButton from '../components/SmallAddButton';\nimport useStudents from '../contexts/useStudents';\nimport useStringHook from '../hooks/useStringHook';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ArrayInput(_ref) {\n  _s();\n\n  var _this = this;\n\n  let {\n    student,\n    arrayName,\n    handleFormChange\n  } = _ref;\n  return function (handleFormChange) {\n    var _student$arrayName, _student$arrayName2;\n\n    const {\n      students,\n      getStudents,\n      setGetStudents\n    } = useStudents();\n    const [formData, setFormData] = React.useState({});\n    const [show, setShow] = React.useState(false);\n    const {\n      capitolizeFirst\n    } = useStringHook();\n    React.useEffect(() => {\n      if (student) {\n        setFormData({\n          [arrayName]: student[arrayName]\n        });\n      }\n    }, [student]); // async function deleteLesson(studentID) {\n    // \tif (window.confirm('Are you sure you want to delete this student?')) {\n    // \t\ttry {\n    // \t\t\tconst response = await axios({\n    // \t\t\t\tmethod: 'DELETE',\n    // \t\t\t\tdata: { id: studentID },\n    // \t\t\t\turl: 'http://localhost:5000/students/delete',\n    // \t\t\t\twithCredentials: true,\n    // \t\t\t});\n    // \t\t\tconsole.log('From Server:', response);\n    // \t\t\tsetGetStudents(!getStudents);\n    // \t\t\tnavigate('/students');\n    // \t\t} catch (err) {\n    // \t\t\tconsole.log(err.response);\n    // \t\t}\n    // \t}\n    // }\n\n    function handleFormChange(event) {\n      const {\n        name,\n        value,\n        type,\n        checked\n      } = event.target;\n      setFormData(prevformData => ({\n        [name]: [...prevformData, value]\n      }));\n    }\n\n    const handleSubmit = async event => {\n      console.log(formData);\n      event.preventDefault();\n\n      try {\n        const response = await axios({\n          method: 'PUT',\n          data: {\n            [arrayName]: formData[arrayName]\n          },\n          url: 'http://localhost:5000/students/updateStudent',\n          withCredentials: true\n        });\n        setGetStudents(!getStudents);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-3 items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"font-semibold\",\n          children: capitolizeFirst(arrayName)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 5\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => setShow(!show),\n          children: /*#__PURE__*/_jsxDEV(SmallAddButton, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 6\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 5\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 4\n      }, _this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-disc list-inside\",\n        children: [((_student$arrayName = student[arrayName]) === null || _student$arrayName === void 0 ? void 0 : _student$arrayName.length) > 0 ? (_student$arrayName2 = student[arrayName]) === null || _student$arrayName2 === void 0 ? void 0 : _student$arrayName2.map((el, i) => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: el\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 14\n          }, _this);\n        }) : /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Add an item...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: show ? '' : 'hidden',\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: arrayName,\n            placeholder: 'Add an item...',\n            onChange: handleFormChange,\n            className: \"input input-bordered w-full max-w-xs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 6\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(SmallAddButton, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 7\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 6\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 5\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 4\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 3\n    }, _this);\n  }(handleFormChange);\n}\n\n_s(ArrayInput, \"NgAKvRMXP+6/aRov+ILhPNK3/eY=\", false, function () {\n  return [useStudents, useStringHook];\n});\n\n_c = ArrayInput;\nexport default ArrayInput;\n\nvar _c;\n\n$RefreshReg$(_c, \"ArrayInput\");","map":{"version":3,"names":["React","axios","SmallAddButton","useStudents","useStringHook","ArrayInput","student","arrayName","handleFormChange","students","getStudents","setGetStudents","formData","setFormData","useState","show","setShow","capitolizeFirst","useEffect","event","name","value","type","checked","target","prevformData","handleSubmit","console","log","preventDefault","response","method","data","url","withCredentials","err","length","map","el","i"],"sources":["/home/blars/code/my-music-studio/client/src/components/ArrayInput.js"],"sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport SmallAddButton from '../components/SmallAddButton';\nimport useStudents from '../contexts/useStudents';\nimport useStringHook from '../hooks/useStringHook';\n\nfunction ArrayInput({ student, arrayName, handleFormChange }) {\n\tconst { students, getStudents, setGetStudents } = useStudents();\n\tconst [formData, setFormData] = React.useState({});\n\tconst [show, setShow] = React.useState(false);\n\tconst { capitolizeFirst } = useStringHook();\n\n\tReact.useEffect(() => {\n\t\tif (student) {\n\t\t\tsetFormData({\n\t\t\t\t[arrayName]: student[arrayName],\n\t\t\t});\n\t\t}\n\t}, [student]);\n\n\t// async function deleteLesson(studentID) {\n\t// \tif (window.confirm('Are you sure you want to delete this student?')) {\n\t// \t\ttry {\n\t// \t\t\tconst response = await axios({\n\t// \t\t\t\tmethod: 'DELETE',\n\t// \t\t\t\tdata: { id: studentID },\n\t// \t\t\t\turl: 'http://localhost:5000/students/delete',\n\t// \t\t\t\twithCredentials: true,\n\t// \t\t\t});\n\t// \t\t\tconsole.log('From Server:', response);\n\t// \t\t\tsetGetStudents(!getStudents);\n\t// \t\t\tnavigate('/students');\n\t// \t\t} catch (err) {\n\t// \t\t\tconsole.log(err.response);\n\t// \t\t}\n\t// \t}\n\t// }\n\n\tfunction handleFormChange(event) {\n\t\tconst { name, value, type, checked } = event.target;\n\t\tsetFormData(prevformData => ({\n\t\t\t[name]: [...prevformData, value],\n\t\t}));\n\t}\n\n\tconst handleSubmit = async event => {\n\t\tconsole.log(formData);\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tconst response = await axios({\n\t\t\t\tmethod: 'PUT',\n\t\t\t\tdata: {\n\t\t\t\t\t[arrayName]: formData[arrayName],\n\t\t\t\t},\n\t\t\t\turl: 'http://localhost:5000/students/updateStudent',\n\t\t\t\twithCredentials: true,\n\t\t\t});\n\t\t\tsetGetStudents(!getStudents);\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className='flex gap-3 items-center'>\n\t\t\t\t<h5 className='font-semibold'>{capitolizeFirst(arrayName)}</h5>\n\t\t\t\t<div onClick={() => setShow(!show)}>\n\t\t\t\t\t<SmallAddButton />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ul className='list-disc list-inside'>\n\t\t\t\t{student[arrayName]?.length > 0 ? (\n\t\t\t\t\tstudent[arrayName]?.map((el, i) => {\n\t\t\t\t\t\treturn <li key={i}>{el}</li>;\n\t\t\t\t\t})\n\t\t\t\t) : (\n\t\t\t\t\t<li>Add an item...</li>\n\t\t\t\t)}\n\t\t\t\t<li className={show ? '' : 'hidden'}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tname={arrayName}\n\t\t\t\t\t\tplaceholder={'Add an item...'}\n\t\t\t\t\t\tonChange={handleFormChange}\n\t\t\t\t\t\tclassName='input input-bordered w-full max-w-xs'\n\t\t\t\t\t/>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<SmallAddButton />\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t);\n}\n\nexport default ArrayInput;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}