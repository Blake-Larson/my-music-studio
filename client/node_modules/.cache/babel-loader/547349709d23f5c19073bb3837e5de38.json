{"ast":null,"code":"var _jsxFileName = \"/home/blars/code/my-music-studio/client/src/components/List.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport axios from 'axios';\nimport SmallAddButton from './SmallAddButton';\nimport useStudents from '../contexts/useStudents';\nimport useStringHook from '../hooks/useStringHook';\nimport SmallDeleteButton from './SmallDeleteButton';\nimport SmallCheckButton from './SmallCheckButton';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ArrayInput(_ref) {\n  _s();\n\n  var _student$arrayName;\n\n  let {\n    student,\n    arrayName\n  } = _ref;\n  const {\n    getStudents,\n    setGetStudents\n  } = useStudents();\n  const [formData, setFormData] = React.useState({});\n  const [show, setShow] = React.useState(false);\n  const {\n    capitolizeFirst\n  } = useStringHook();\n  const [resetForm, setResetForm] = React.useState(false);\n  React.useEffect(() => {\n    setFormData({\n      [arrayName]: ''\n    });\n  }, [arrayName]);\n\n  async function handleDelete(i) {\n    student[arrayName].splice(i, 1);\n    let newArr = student[arrayName];\n\n    try {\n      const response = await axios({\n        method: 'PUT',\n        data: {\n          id: student._id,\n          list: [arrayName],\n          newArr: newArr\n        },\n        url: 'http://localhost:5000/students/updateListItem',\n        withCredentials: true\n      });\n      console.log(response);\n      setGetStudents(!getStudents);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  function handleFormChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    setFormData({\n      [name]: value\n    });\n  }\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    let newArr;\n\n    if (student[arrayName]) {\n      student[arrayName].push(formData[arrayName]);\n      newArr = student[arrayName];\n    } else {\n      newArr = [formData[arrayName]];\n    }\n\n    try {\n      const response = await axios({\n        method: 'PUT',\n        data: {\n          id: student._id,\n          list: [arrayName],\n          newArr: newArr\n        },\n        url: 'http://localhost:5000/students/updateListItem',\n        withCredentials: true\n      });\n      console.log(response);\n      event.target.reset();\n      setResetForm(!resetForm);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"group\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-3 items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"font-semibold\",\n        children: capitolizeFirst(arrayName)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => setShow(!show),\n        children: /*#__PURE__*/_jsxDEV(SmallAddButton, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"list-disc list-inside\",\n      children: [student[arrayName] && ((_student$arrayName = student[arrayName]) === null || _student$arrayName === void 0 ? void 0 : _student$arrayName.map((el, i) => {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: el\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"group-hover:opacity-100 opacity-0 transition-opacity duration-500\",\n            onClick: () => handleDelete(i),\n            children: /*#__PURE__*/_jsxDEV(SmallDeleteButton, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 9\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 8\n        }, this);\n      })), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: show ? 'flex items-center gap-3' : 'hidden',\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: arrayName,\n          placeholder: 'Add an item...',\n          onChange: handleFormChange,\n          className: \"input input-bordered w-full max-w-xs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShow(!show),\n          children: /*#__PURE__*/_jsxDEV(SmallCheckButton, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 3\n  }, this);\n}\n\n_s(ArrayInput, \"ZLqwS0CZcAKaq07QCTy06k4mgbI=\", false, function () {\n  return [useStudents, useStringHook];\n});\n\n_c = ArrayInput;\nexport default ArrayInput;\n\nvar _c;\n\n$RefreshReg$(_c, \"ArrayInput\");","map":{"version":3,"names":["React","axios","SmallAddButton","useStudents","useStringHook","SmallDeleteButton","SmallCheckButton","ArrayInput","student","arrayName","getStudents","setGetStudents","formData","setFormData","useState","show","setShow","capitolizeFirst","resetForm","setResetForm","useEffect","handleDelete","i","splice","newArr","response","method","data","id","_id","list","url","withCredentials","console","log","err","handleFormChange","event","name","value","target","handleSubmit","preventDefault","push","reset","map","el"],"sources":["/home/blars/code/my-music-studio/client/src/components/List.js"],"sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport SmallAddButton from './SmallAddButton';\nimport useStudents from '../contexts/useStudents';\nimport useStringHook from '../hooks/useStringHook';\nimport SmallDeleteButton from './SmallDeleteButton';\nimport SmallCheckButton from './SmallCheckButton';\n\nfunction ArrayInput({ student, arrayName }) {\n\tconst { getStudents, setGetStudents } = useStudents();\n\tconst [formData, setFormData] = React.useState({});\n\tconst [show, setShow] = React.useState(false);\n\tconst { capitolizeFirst } = useStringHook();\n\tconst [resetForm, setResetForm] = React.useState(false);\n\n\tReact.useEffect(() => {\n\t\tsetFormData({\n\t\t\t[arrayName]: '',\n\t\t});\n\t}, [arrayName]);\n\n\tasync function handleDelete(i) {\n\t\tstudent[arrayName].splice(i, 1);\n\t\tlet newArr = student[arrayName];\n\t\ttry {\n\t\t\tconst response = await axios({\n\t\t\t\tmethod: 'PUT',\n\t\t\t\tdata: {\n\t\t\t\t\tid: student._id,\n\t\t\t\t\tlist: [arrayName],\n\t\t\t\t\tnewArr: newArr,\n\t\t\t\t},\n\t\t\t\turl: 'http://localhost:5000/students/updateListItem',\n\t\t\t\twithCredentials: true,\n\t\t\t});\n\t\t\tconsole.log(response);\n\t\t\tsetGetStudents(!getStudents);\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t}\n\t}\n\n\tfunction handleFormChange(event) {\n\t\tconst { name, value } = event.target;\n\t\tsetFormData({ [name]: value });\n\t}\n\n\tconst handleSubmit = async event => {\n\t\tevent.preventDefault();\n\t\tlet newArr;\n\t\tif (student[arrayName]) {\n\t\t\tstudent[arrayName].push(formData[arrayName]);\n\t\t\tnewArr = student[arrayName];\n\t\t} else {\n\t\t\tnewArr = [formData[arrayName]];\n\t\t}\n\t\ttry {\n\t\t\tconst response = await axios({\n\t\t\t\tmethod: 'PUT',\n\t\t\t\tdata: {\n\t\t\t\t\tid: student._id,\n\t\t\t\t\tlist: [arrayName],\n\t\t\t\t\tnewArr: newArr,\n\t\t\t\t},\n\t\t\t\turl: 'http://localhost:5000/students/updateListItem',\n\t\t\t\twithCredentials: true,\n\t\t\t});\n\t\t\tconsole.log(response);\n\t\t\tevent.target.reset();\n\t\t\tsetResetForm(!resetForm);\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<form onSubmit={handleSubmit} className='group'>\n\t\t\t<div className='flex gap-3 items-center'>\n\t\t\t\t<h5 className='font-semibold'>{capitolizeFirst(arrayName)}</h5>\n\t\t\t\t<div onClick={() => setShow(!show)}>\n\t\t\t\t\t<SmallAddButton />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ul className='list-disc list-inside'>\n\t\t\t\t{student[arrayName] &&\n\t\t\t\t\tstudent[arrayName]?.map((el, i) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li key={i} className='flex items-center gap-3'>\n\t\t\t\t\t\t\t\t<span>{el}</span>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName='group-hover:opacity-100 opacity-0 transition-opacity duration-500'\n\t\t\t\t\t\t\t\t\tonClick={() => handleDelete(i)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<SmallDeleteButton />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\n\t\t\t\t<li className={show ? 'flex items-center gap-3' : 'hidden'}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tname={arrayName}\n\t\t\t\t\t\tplaceholder={'Add an item...'}\n\t\t\t\t\t\tonChange={handleFormChange}\n\t\t\t\t\t\tclassName='input input-bordered w-full max-w-xs'\n\t\t\t\t\t/>\n\t\t\t\t\t<button onClick={() => setShow(!show)}>\n\t\t\t\t\t\t<SmallCheckButton />\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</form>\n\t);\n}\n\nexport default ArrayInput;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}